# Benchmarks

## Table of Contents

- [Benchmark Results](#benchmark-results)
    - [ChaCha20Poly1305 Encrypt](#chacha20poly1305-encrypt)
    - [ChaCha20Poly1305 Decrypt](#chacha20poly1305-decrypt)
    - [x25519 derive](#x25519-derive)
    - [x25519 secret to public](#x25519-secret-to-public)
    - [Kyber768 Key Generation](#kyber768-key-generation)
    - [Kyber768 Encapsulation](#kyber768-encapsulation)
    - [Kyber768 Decapsulation](#kyber768-decapsulation)
    - [P256 derive](#p256-derive)
    - [P256 secret to public](#p256-secret-to-public)
    - [Sha2 224](#sha2-224)
    - [Sha2 256](#sha2-256)
    - [Sha2 384](#sha2-384)
    - [Sha2 512](#sha2-512)
    - [Sha3 224](#sha3-224)
    - [Sha3 256](#sha3-256)
    - [Sha3 384](#sha3-384)
    - [Sha3 512](#sha3-512)

## Benchmark Results

### ChaCha20Poly1305 Encrypt

|             | `libcrux`               | `Ring`                         | `RustCrypto`                   | `OpenSSL`                       |
|:------------|:------------------------|:-------------------------------|:-------------------------------|:------------------------------- |
| **`10 MB`** | `6.15 ms` (✅ **1.00x**) | `5.53 ms` (✅ **1.11x faster**) | `9.79 ms` (❌ *1.59x slower*)   | `6.75 ms` (✅ **1.10x slower**)  |

### ChaCha20Poly1305 Decrypt

|             | `libcrux`               | `Ring`                         | `RustCrypto`                   | `OpenSSL`                       |
|:------------|:------------------------|:-------------------------------|:-------------------------------|:------------------------------- |
| **`10 MB`** | `5.99 ms` (✅ **1.00x**) | `5.22 ms` (✅ **1.15x faster**) | `9.69 ms` (❌ *1.62x slower*)   | `6.24 ms` (✅ **1.04x slower**)  |

### x25519 derive

|        | `libcrux Sha256`          | `libcrux`                       | `Ring`                          | `RustCrypto`                    | `OpenSSL`                        |
|:-------|:--------------------------|:--------------------------------|:--------------------------------|:--------------------------------|:-------------------------------- |
|        | `6.25 us` (✅ **1.00x**)   | `32.59 us` (❌ *5.22x slower*)   | `42.75 us` (❌ *6.85x slower*)   | `55.28 us` (❌ *8.85x slower*)   | `37.83 us` (❌ *6.06x slower*)    |

### x25519 secret to public

|        | `libcrux Sha256`          | `Ring`                           | `RustCrypto`                     | `OpenSSL`                      | `libcrux`                        | `Ring #2`                        | `RustCrypto #2`                 | `OpenSSL #2`                      |
|:-------|:--------------------------|:---------------------------------|:---------------------------------|:-------------------------------|:---------------------------------|:---------------------------------|:--------------------------------|:--------------------------------- |
|        | `3.59 us` (✅ **1.00x**)   | `765.19 ns` (🚀 **4.69x faster**) | `798.38 ns` (🚀 **4.50x faster**) | `1.31 us` (🚀 **2.74x faster**) | `37.77 us` (❌ *10.52x slower*)   | `41.94 us` (❌ *11.68x slower*)   | `18.85 us` (❌ *5.25x slower*)   | `48.95 us` (❌ *13.63x slower*)    |

### Kyber768 Key Generation

|        | `libcrux portable (external random)`          | `libcrux portable (HACL-DRBG)`          | `libcrux portable (OsRng)`          | `pqclean reference implementation`           |
|:-------|:----------------------------------------------|:----------------------------------------|:------------------------------------|:-------------------------------------------- |
|        | `88.88 us` (✅ **1.00x**)                      | `86.60 us` (✅ **1.03x faster**)         | `81.80 us` (✅ **1.09x faster**)     | `67.43 us` (✅ **1.32x faster**)              |

### Kyber768 Encapsulation

|        | `libcrux portable (external random)`          | `libcrux portable`              | `libcrux portable OsRng`          | `pqclean reference implementation`           |
|:-------|:----------------------------------------------|:--------------------------------|:----------------------------------|:-------------------------------------------- |
|        | `71.05 us` (✅ **1.00x**)                      | `77.68 us` (✅ **1.09x slower**) | `74.95 us` (✅ **1.05x slower**)   | `79.71 us` (❌ *1.12x slower*)                |

### Kyber768 Decapsulation

|        | `libcrux portable`          | `pqclean reference implementation`           |
|:-------|:----------------------------|:-------------------------------------------- |
|        | `81.22 us` (✅ **1.00x**)    | `89.93 us` (✅ **1.11x slower**)              |

### P256 derive

|        | `libcrux`                 | `Ring`                          | `RustCrypto`                      |
|:-------|:--------------------------|:--------------------------------|:--------------------------------- |
|        | `338.63 us` (✅ **1.00x**) | `48.62 us` (🚀 **6.96x faster**) | `155.48 us` (🚀 **2.18x faster**)  |

### P256 secret to public

|        | `libcrux`                 | `Ring`                           | `RustCrypto`                      |
|:-------|:--------------------------|:---------------------------------|:--------------------------------- |
|        | `142.41 us` (✅ **1.00x**) | `11.55 us` (🚀 **12.33x faster**) | `155.33 us` (✅ **1.09x slower**)  |

### Sha2 224

|             | `libcrux`                | `RustCrypto`                    | `OpenSSL`                        |
|:------------|:-------------------------|:--------------------------------|:-------------------------------- |
| **`10 MB`** | `47.64 ms` (✅ **1.00x**) | `46.64 ms` (✅ **1.02x faster**) | `23.41 ms` (🚀 **2.03x faster**)  |

### Sha2 256

|             | `libcrux`                | `Ring`                          | `RustCrypto`                    | `OpenSSL`                        |
|:------------|:-------------------------|:--------------------------------|:--------------------------------|:-------------------------------- |
| **`10 MB`** | `47.52 ms` (✅ **1.00x**) | `26.08 ms` (🚀 **1.82x faster**) | `46.81 ms` (✅ **1.02x faster**) | `23.30 ms` (🚀 **2.04x faster**)  |

### Sha2 384

|             | `libcrux`                | `Ring`                          | `RustCrypto`                    | `OpenSSL`                        |
|:------------|:-------------------------|:--------------------------------|:--------------------------------|:-------------------------------- |
| **`10 MB`** | `30.24 ms` (✅ **1.00x**) | `17.98 ms` (✅ **1.68x faster**) | `25.02 ms` (✅ **1.21x faster**) | `15.79 ms` (🚀 **1.92x faster**)  |

### Sha2 512

|             | `libcrux`                | `Ring`                          | `RustCrypto`                    | `OpenSSL`                        |
|:------------|:-------------------------|:--------------------------------|:--------------------------------|:-------------------------------- |
| **`10 MB`** | `29.51 ms` (✅ **1.00x**) | `18.26 ms` (✅ **1.62x faster**) | `25.19 ms` (✅ **1.17x faster**) | `15.73 ms` (🚀 **1.88x faster**)  |

### Sha3 224

|             | `libcrux`                | `RustCrypto`                    | `OpenSSL`                        |
|:------------|:-------------------------|:--------------------------------|:-------------------------------- |
| **`10 MB`** | `73.62 ms` (✅ **1.00x**) | `36.14 ms` (🚀 **2.04x faster**) | `27.32 ms` (🚀 **2.69x faster**)  |

### Sha3 256

|             | `libcrux`                | `RustCrypto`                    | `OpenSSL`                        |
|:------------|:-------------------------|:--------------------------------|:-------------------------------- |
| **`10 MB`** | `79.35 ms` (✅ **1.00x**) | `38.33 ms` (🚀 **2.07x faster**) | `28.31 ms` (🚀 **2.80x faster**)  |

### Sha3 384

|             | `libcrux`                 | `RustCrypto`                    | `OpenSSL`                        |
|:------------|:--------------------------|:--------------------------------|:-------------------------------- |
| **`10 MB`** | `101.43 ms` (✅ **1.00x**) | `49.95 ms` (🚀 **2.03x faster**) | `36.71 ms` (🚀 **2.76x faster**)  |

### Sha3 512

|             | `libcrux`                 | `RustCrypto`                    | `OpenSSL`                        |
|:------------|:--------------------------|:--------------------------------|:-------------------------------- |
| **`10 MB`** | `145.90 ms` (✅ **1.00x**) | `71.73 ms` (🚀 **2.03x faster**) | `54.95 ms` (🚀 **2.66x faster**)  |

---
Made with [criterion-table](https://github.com/nu11ptr/criterion-table)

