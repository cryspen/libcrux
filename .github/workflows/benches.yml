name: Test Comment Action

on:
  merge_group:
  pull_request:
    branches: ["main", "dev"]
  workflow_dispatch:
  push:
    branches: ["main"]

jobs:
  merge:
    permissions:
      pull-requests: write
    runs-on: ubuntu-latest
    steps:
      - name: Post comment to PR
        uses: actions/github-script@v7
        env:
          COMMENT_BODY: "This is a comment from an action."
        with:
          script: |
            github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: context.issue.number,
              body: process.env.COMMENT_BODY
            });
